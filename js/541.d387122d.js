(self["webpackChunkbamxx"]=self["webpackChunkbamxx"]||[]).push([[541],{6541:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>$});var a=t(3673),i=t(9394),o=t.n(i);const r={class:"col"},l=(0,a._)("div",{class:"row block text-center q-py-lg"},[(0,a._)("h4",null," ¡Bienvenido al sistema del Banco de alimentos! ")],-1),n={class:"row items-center justify-around q-py-xl"},d=(0,a._)("div",{class:"flex justify-center"},[(0,a._)("h5",{class:"text-h5 text-red q-pt-xl"},"Iniciar Sesión")],-1),u={class:"row items-center justify-around q-pa-xl"};function c(e,s,t,i,c,p){const m=(0,a.up)("q-img"),w=(0,a.up)("q-avatar"),h=(0,a.up)("q-card-section"),b=(0,a.up)("q-icon"),f=(0,a.up)("q-input"),g=(0,a.up)("q-btn"),_=(0,a.up)("q-form"),y=(0,a.up)("q-card"),q=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(q,{class:"bg-white"},{default:(0,a.w5)((()=>[(0,a._)("div",r,[l,(0,a._)("div",n,[(0,a.Wm)(y,{class:"bordered card"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{size:"200px",class:"absolute-center q-gutter-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{src:o(),width:"120px"})])),_:1})])),_:1}),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[d])),_:1}),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(_,{onSubmit:s[3]||(s[3]=e=>p.login())},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{color:"red-8","bg-color":"white",filled:"",modelValue:c.username,"onUpdate:modelValue":s[0]||(s[0]=e=>c.username=e),modelModifiers:{trim:!0},label:"Usuario",autofocus:"","lazy-rules":""},{prepend:(0,a.w5)((()=>[(0,a.Wm)(b,{name:"person"})])),_:1},8,["modelValue"]),(0,a.Wm)(f,{"bg-color":"white",color:"red-8",modelValue:c.password,"onUpdate:modelValue":s[2]||(s[2]=e=>c.password=e),filled:"",label:"Contraseña",type:i.isPwd?"password":"text"},{prepend:(0,a.w5)((()=>[(0,a.Wm)(b,{name:"lock"})])),append:(0,a.w5)((()=>[(0,a.Wm)(b,{name:i.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[1]||(s[1]=e=>i.isPwd=!i.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type"]),(0,a._)("div",u,[(0,a.Wm)(g,{label:"Iniciar Sesión",type:"submit",class:"card__btn"})])])),_:1})])),_:1})])),_:1})])])])),_:1})}var p=t(1959),m=t(5474);const w={setup(){return{isPwd:(0,p.iH)(!0)}},data(){return{username:"",password:(0,p.iH)(""),passwordFieldType:"password",visibility:!1,visibilityIcon:"visibility"}},methods:{success(e){this.$q.notify({message:e,icon:"done",color:"green"})},error(e){this.$q.notify({message:e,icon:"error",color:"red"})},login(){m.api.post("login",{username:this.username,password:this.password}).then((e=>{this.success("Sesión iniciada"),this.$store.commit("updateToken",{token:e.data.token}),this.$store.commit("updateAuth",{auth:!0}),this.$router.push("/dashboard")})).catch((e=>{this.error("Error de autenticación")}))}},beforeMount(){this.$store.getters.auth&&this.$router.push("/dashboard")}};var h=t(4260),b=t(4379),f=t(151),g=t(5589),_=t(5096),y=t(4027),q=t(8689),v=t(4842),x=t(4554),W=t(8240),k=t(7518),Z=t.n(k);const Q=(0,h.Z)(w,[["render",c]]),$=Q;Z()(w,"components",{QPage:b.Z,QCard:f.Z,QCardSection:g.Z,QAvatar:_.Z,QImg:y.Z,QForm:q.Z,QInput:v.Z,QIcon:x.Z,QBtn:W.Z})},9394:(e,s,t)=>{e.exports=t.p+"img/bamx_logo.01c2f515.png"}}]);